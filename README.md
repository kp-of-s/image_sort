# image_sort

## 프로그램 사용법

### 폴더 업로드
업로드할 폴더는 **시** 폴더에서 업로드.
업로드 처리 중일 땐 절대, 창을 닫으면 안됩니다.
처리 중 메인화면 버튼을 막아놓았지만, 만에 하나 처리 중 활성화가 되었더라도 누르면 안됩니다.
처리가 완료되어도 메인 화면 버튼 활성화가 되지 않았다면 프로그램 종료 후 재시작 바랍니다.

### 분류 작업
스페이스바를 누르면 다음 이미지로 넘어갑니다.
누르는 즉시 저장됩니다.
분류된 csv파일은 실행파일과 동봉된 data 파일에 저장됩니다.
분류가 완료되었다면 하단 DB 업로드 버튼을 눌러 저장하십시오.

### 자동 분류
자동 분류 키워드/텍스트 쿼리 값은 실행파일과 동봉된 config폴더에 있습니다.
각 파일의 역할은 config폴더의 README.md를 참고하십시오.


### TODO
실행 시 로딩이 오래 걸리는 문제
프로그램을 닫아도 백그라운드에서 틴터 루프가 돌아가는 문제
이미지 제로샷 분류 관련 수정
옵션 파일을 이용하지 않는, 하드코딩 된 코드 수정
자동 분류 별 정확도 통계 추가
파인튜닝 모델 이미지 분류 추가
옵션 수정 창 추가
외 사용중 오류 및 미흡한 부분, 기타 ui, 조작 관련 업데이트 아이디어는 항상 말씀해주세요.

## 작동 방식
모듈 폴더는 프로그램 사이클의 한 부분을 맡는 폴더입니다.
이하 파일은 사이클 순으로 정렬했습니다.
module/
    component/
        home butten.py - 메인화면으로 이동하는 버튼 컴포넌트
    page modules/
        main screen - 각 기능 페이지로 이동하는 파일입니다.
        upload folder page - 업로드할 폴더 선택 다이알로그 창입니다.
        sort progress page - 자동 분류 중 화면입니다. 폴더 복사가 완료됨을 확인한 후 자동분류를 시행합니다.
        select folder page - 이미지 수동 분류를 위한 폴더 선택 화면입니다.
        edit screen - 이미지 수동 분류 페이지의 UI 구성 파일입니다.
    upload_module - 분류할 파일 업로드를 시행하는 코드입니다.
    category sort module - 카카오 api 반환에 포함된 카테고리로 주차장을 자동 분류합니다. (김수민 인턴)
    text sort module - 주차장 명에 포함된 키워드를 기반으로 주차장을 자동 분류합니다.
    image sort module - clip 모델을 사용한 이미지 제로샷 분류를 시행합니다.
    edit event handlers - edit screen의 이벤트 핸들러입니다.
    db uploader - 분류가 완료된 csv 파일을 데이터 베이스에 업로드합니다. (이형민 인턴)

유틸 폴더 하위는 프로세스 흐름과 무관하게, 요소요소에서 사용되는 코드들입니다


## 사이클

=> 메인 화면 => 파일 업로드 => 자동 분류
=> 메인 화면 => 파일 수동 분류 => db 업로드